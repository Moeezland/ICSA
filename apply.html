<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>M-ETA Application – Immigration & Civil Status Authority</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

<style>
:root{
  --dark:#0b3058;
  --bg:#eaf0f6;
  --card:#ffffff;
  --border:#d6e0ea;
}
*{box-sizing:border-box;font-family:Inter,system-ui,sans-serif;}
body{margin:0;background:var(--bg);color:#111;}

header{
  background:#f2f2f2;
  padding:10px 32px;
  display:flex;
  align-items:center;
  border-bottom:1px solid var(--border);
}
header img{height:63px;}
@media(max-width:768px){
  header{padding:10px 16px;}
  header img{height:48px;}
}

.container{
  max-width:760px;
  margin:40px auto;
  background:#fff;
  padding:36px;
  border-radius:6px;
  border:1px solid var(--border);
}

.field{margin-bottom:18px;}
label{display:block;font-size:14px;margin-bottom:6px;font-weight:500;}
input{
  width:100%;
  padding:11px;
  border:1px solid var(--border);
  border-radius:4px;
  font-size:14px;
}
.hidden{display:none;}

button{
  background:var(--dark);
  color:white;
  border:none;
  padding:14px 24px;
  font-size:15px;
  cursor:pointer;
  border-radius:4px;
}

.notice{
  background:#f1f6fb;
  border-left:4px solid var(--dark);
  padding:20px;
  margin-top:30px;
  font-size:14px;
}

.error{
  background:#fff1f1;
  border-left:4px solid #c62828;
  padding:20px;
  margin-top:30px;
  font-size:14px;
}
</style>
</head>

<body>

<header>
  <img src="logo.png" alt="ICSA">
</header>

<div class="container">

<h2>M-ETA Application Form</h2>

<div class="field">
  <label>Full Legal Name *</label>
  <input id="fullName">
</div>

<div class="field">
  <label>Date of Birth *</label>
  <input id="dob" type="date">
</div>

<div class="field">
  <label>Email *</label>
  <input id="email" type="email">
</div>

<div class="field">
  <label>Select your country of residence *</label>
  <label><input type="radio" name="country" value="Afghanistan"> Afghanistan</label>
  <label><input type="radio" name="country" value="Albania"> Albania</label>
  <label><input type="radio" name="country" value="Algeria"> Algeria</label>
  <label><input type="radio" name="country" value="Andorra"> Andorra</label>
  <label><input type="radio" name="country" value="Angola"> Angola</label>
  <label><input type="radio" name="country" value="Antigua and Barbuda"> Antigua and Barbuda</label>
  <label><input type="radio" name="country" value="Argentina"> Argentina</label>
  <label><input type="radio" name="country" value="Armenia"> Armenia</label>
  <label><input type="radio" name="country" value="Australia"> Australia</label>
  <label><input type="radio" name="country" value="Austria"> Austria</label>
  <label><input type="radio" name="country" value="Azerbaijan"> Azerbaijan</label>
  <label><input type="radio" name="country" value="Bahamas"> Bahamas</label>
  <label><input type="radio" name="country" value="Bahrain"> Bahrain</label>
  <label><input type="radio" name="country" value="Bangladesh"> Bangladesh</label>
  <label><input type="radio" name="country" value="Barbados"> Barbados</label>
  <label><input type="radio" name="country" value="Belarus"> Belarus</label>
  <label><input type="radio" name="country" value="Belgium"> Belgium</label>
  <label><input type="radio" name="country" value="Belize"> Belize</label>
  <label><input type="radio" name="country" value="Benin"> Benin</label>
  <label><input type="radio" name="country" value="Bhutan"> Bhutan</label>
  <label><input type="radio" name="country" value="Bolivia"> Bolivia</label>
  <label><input type="radio" name="country" value="Bosnia and Herzegovina"> Bosnia and Herzegovina</label>
  <label><input type="radio" name="country" value="Botswana"> Botswana</label>
  <label><input type="radio" name="country" value="Brazil"> Brazil</label>
  <label><input type="radio" name="country" value="Brunei"> Brunei</label>
  <label><input type="radio" name="country" value="Bulgaria"> Bulgaria</label>
  <label><input type="radio" name="country" value="Burkina Faso"> Burkina Faso</label>
  <label><input type="radio" name="country" value="Burundi"> Burundi</label>
  <label><input type="radio" name="country" value="Cambodia"> Cambodia</label>
  <label><input type="radio" name="country" value="Cameroon"> Cameroon</label>
  <label><input type="radio" name="country" value="Canada"> Canada</label>
  <label><input type="radio" name="country" value="Cape Verde"> Cape Verde</label>
  <label><input type="radio" name="country" value="Central African Republic"> Central African Republic</label>
  <label><input type="radio" name="country" value="Chad"> Chad</label>
  <label><input type="radio" name="country" value="Chile"> Chile</label>
  <label><input type="radio" name="country" value="China"> China</label>
  <label><input type="radio" name="country" value="Colombia"> Colombia</label>
  <label><input type="radio" name="country" value="Comoros"> Comoros</label>
  <label><input type="radio" name="country" value="Congo"> Congo</label>
  <label><input type="radio" name="country" value="Costa Rica"> Costa Rica</label>
  <label><input type="radio" name="country" value="Côte d’Ivoire"> Côte d’Ivoire</label>
  <label><input type="radio" name="country" value="Croatia"> Croatia</label>
  <label><input type="radio" name="country" value="Cuba"> Cuba</label>
  <label><input type="radio" name="country" value="Cyprus"> Cyprus</label>
  <label><input type="radio" name="country" value="Czech Republic"> Czech Republic</label>
  <label><input type="radio" name="country" value="Denmark"> Denmark</label>
  <label><input type="radio" name="country" value="Djibouti"> Djibouti</label>
  <label><input type="radio" name="country" value="Dominica"> Dominica</label>
  <label><input type="radio" name="country" value="Dominican Republic"> Dominican Republic</label>
  <label><input type="radio" name="country" value="Ecuador"> Ecuador</label>
  <label><input type="radio" name="country" value="Egypt"> Egypt</label>
  <label><input type="radio" name="country" value="El Salvador"> El Salvador</label>
  <label><input type="radio" name="country" value="Equatorial Guinea"> Equatorial Guinea</label>
  <label><input type="radio" name="country" value="Eritrea"> Eritrea</label>
  <label><input type="radio" name="country" value="Estonia"> Estonia</label>
  <label><input type="radio" name="country" value="Eswatini"> Eswatini</label>
  <label><input type="radio" name="country" value="Ethiopia"> Ethiopia</label>
  <label><input type="radio" name="country" value="Fiji"> Fiji</label>
  <label><input type="radio" name="country" value="Finland"> Finland</label>
  <label><input type="radio" name="country" value="France"> France</label>
  <label><input type="radio" name="country" value="Gabon"> Gabon</label>
  <label><input type="radio" name="country" value="Gambia"> Gambia</label>
  <label><input type="radio" name="country" value="Georgia"> Georgia</label>
  <label><input type="radio" name="country" value="Germany"> Germany</label>
  <label><input type="radio" name="country" value="Ghana"> Ghana</label>
  <label><input type="radio" name="country" value="Greece"> Greece</label>
  <label><input type="radio" name="country" value="Grenada"> Grenada</label>
  <label><input type="radio" name="country" value="Guatemala"> Guatemala</label>
  <label><input type="radio" name="country" value="Guinea"> Guinea</label>
  <label><input type="radio" name="country" value="Guinea-Bissau"> Guinea-Bissau</label>
  <label><input type="radio" name="country" value="Guyana"> Guyana</label>
  <label><input type="radio" name="country" value="Haiti"> Haiti</label>
  <label><input type="radio" name="country" value="Honduras"> Honduras</label>
  <label><input type="radio" name="country" value="Hungary"> Hungary</label>
  <label><input type="radio" name="country" value="Iceland"> Iceland</label>
  <label><input type="radio" name="country" value="India"> India</label>
  <label><input type="radio" name="country" value="Indonesia"> Indonesia</label>
  <label><input type="radio" name="country" value="Iran"> Iran</label>
  <label><input type="radio" name="country" value="Iraq"> Iraq</label>
  <label><input type="radio" name="country" value="Ireland"> Ireland</label>
  <label><input type="radio" name="country" value="Israel"> Israel</label>
  <label><input type="radio" name="country" value="Italy"> Italy</label>
  <label><input type="radio" name="country" value="Jamaica"> Jamaica</label>
  <label><input type="radio" name="country" value="Japan"> Japan</label>
  <label><input type="radio" name="country" value="Jordan"> Jordan</label>
  <label><input type="radio" name="country" value="Kazakhstan"> Kazakhstan</label>
  <label><input type="radio" name="country" value="Kenya"> Kenya</label>
  <label><input type="radio" name="country" value="Kiribati"> Kiribati</label>
  <label><input type="radio" name="country" value="Kuwait"> Kuwait</label>
  <label><input type="radio" name="country" value="Kyrgyzstan"> Kyrgyzstan</label>
  <label><input type="radio" name="country" value="Laos"> Laos</label>
  <label><input type="radio" name="country" value="Latvia"> Latvia</label>
  <label><input type="radio" name="country" value="Lebanon"> Lebanon</label>
  <label><input type="radio" name="country" value="Lesotho"> Lesotho</label>
  <label><input type="radio" name="country" value="Liberia"> Liberia</label>
  <label><input type="radio" name="country" value="Libya"> Libya</label>
  <label><input type="radio" name="country" value="Liechtenstein"> Liechtenstein</label>
  <label><input type="radio" name="country" value="Lithuania"> Lithuania</label>
  <label><input type="radio" name="country" value="Luxembourg"> Luxembourg</label>
  <label><input type="radio" name="country" value="Malaysia"> Malaysia</label>
  <label><input type="radio" name="country" value="Maldives"> Maldives</label>
  <label><input type="radio" name="country" value="Malta"> Malta</label>
  <label><input type="radio" name="country" value="Mexico"> Mexico</label>
  <label><input type="radio" name="country" value="Monaco"> Monaco</label>
  <label><input type="radio" name="country" value="Mongolia"> Mongolia</label>
  <label><input type="radio" name="country" value="Morocco"> Morocco</label>
  <label><input type="radio" name="country" value="Netherlands"> Netherlands</label>
  <label><input type="radio" name="country" value="New Zealand"> New Zealand</label>
  <label><input type="radio" name="country" value="Nigeria"> Nigeria</label>
  <label><input type="radio" name="country" value="Norway"> Norway</label>
  <label><input type="radio" name="country" value="Pakistan"> Pakistan</label>
  <label><input type="radio" name="country" value="Philippines"> Philippines</label>
  <label><input type="radio" name="country" value="Poland"> Poland</label>
  <label><input type="radio" name="country" value="Portugal"> Portugal</label>
  <label><input type="radio" name="country" value="Qatar"> Qatar</label>
  <label><input type="radio" name="country" value="Romania"> Romania</label>
  <label><input type="radio" name="country" value="Russia"> Russia</label>
  <label><input type="radio" name="country" value="Saudi Arabia"> Saudi Arabia</label>
  <label><input type="radio" name="country" value="Singapore"> Singapore</label>
  <label><input type="radio" name="country" value="South Africa"> South Africa</label>
  <label><input type="radio" name="country" value="South Korea"> South Korea</label>
  <label><input type="radio" name="country" value="Spain"> Spain</label>
  <label><input type="radio" name="country" value="Sweden"> Sweden</label>
  <label><input type="radio" name="country" value="Switzerland"> Switzerland</label>
  <label><input type="radio" name="country" value="Taiwan"> Taiwan</label>
  <label><input type="radio" name="country" value="Thailand"> Thailand</label>
  <label><input type="radio" name="country" value="Türkiye"> Türkiye</label>
  <label><input type="radio" name="country" value="Ukraine"> Ukraine</label>
  <label><input type="radio" name="country" value="United Arab Emirates"> United Arab Emirates</label>
  <label><input type="radio" name="country" value="United Kingdom"> United Kingdom</label>
  <label><input type="radio" name="country" value="United States"> United States</label>
  <label><input type="radio" name="country" value="Vietnam"> Vietnam</label>
  <label><input type="radio" name="country" value="Yemen"> Yemen</label>
  <label><input type="radio" name="country" value="Zambia"> Zambia</label>
  <label><input type="radio" name="country" value="Zimbabwe"> Zimbabwe</label>

</div>

<button onclick="submitForm()">Submit M-ETA Application</button>

<div id="approvedMsg" class="notice hidden">
  Your country of residence is eligible for the Moeezland Electronic Travel Authorization (M-ETA).  
  Your application has been successfully submitted for review.
</div>

<div id="rejectedMsg" class="error hidden">
  Your country of residence is currently <strong>not eligible</strong> for M-ETA.<br><br>
  You are required to obtain a <strong>Visa on Arrival</strong> at the Capital Territory of Moeezland.<br><br>
  <strong>Location:</strong><br>
  25°01'26.3"N 67°07'28.8"E
</div>

</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyCs-pheSxe9bkAqnhG9qOjF7RvFfb9k00A",
  authDomain: "e-civilian-portal2007.firebaseapp.com",
  projectId: "e-civilian-portal2007"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

// ✅ APPROVED COUNTRIES FOR M-ETA
const approvedCountries = [
  "Japan","Singapore","South Korea","Switzerland","Sweden","Denmark","Norway",
  "Germany","France","Italy","Spain","United Kingdom","Canada","Australia",
  "New Zealand","Türkiye","Malaysia","Indonesia","Jordan","Egypt","Palestine","Saudi Arabia"
];

window.submitForm = async function(){

  const fullName = document.getElementById("fullName").value.trim();
  const dob = document.getElementById("dob").value;
  const email = document.getElementById("email").value.trim();
  const country = document.querySelector('input[name="country"]:checked')?.value;

  document.getElementById("approvedMsg").classList.add("hidden");
  document.getElementById("rejectedMsg").classList.add("hidden");

  if(!fullName || !dob || !email || !country){
    alert("Please complete all required fields.");
    return;
  }

  if(!approvedCountries.includes(country)){
    document.getElementById("rejectedMsg").classList.remove("hidden");
    return;
  }

  await addDoc(collection(db, "applications"), {
    fullName,
    dob,
    email,
    country,
    type: "M-ETA",
    status: "Submitted",
    createdAt: serverTimestamp()
  });

  document.getElementById("approvedMsg").classList.remove("hidden");
};
</script>

</body>
</html>

